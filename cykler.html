<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kogacenter Copenhagen - cykler</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">

    <style>
        body,
        html {
            margin: 0;
            height: 100%;
        }

        #kategorier {
            grid-area: kate;
            background-color: #233740;
            display: flex;
            justify-content: space-around;
        }

        @media screen and (max-width:321px) {

            .cykler {
                font-size: 1em;
                font-family: 'Montserrat', sans-serif;
            }

            main #modeller {}

            .model {
                width: 80vw;
            }
        }

        @media screen and (max-width:1050px) {

            #signatur {
                flex-direction: column;
            }

            #signatur p {
                padding-right: 5vw;
            }
        }

        @media screen and (max-width:650px) {
            html #signatur {
                padding: 45px;
            }

            html #signatur p {
                margin: 0;
                padding-right: 0;
                padding-bottom: 15px;
                font-size: 0.8em;
            }

            html #signatur h1 {
                font-size: 2em;
            }

            html p {
                font-size: 0.8em;
            }

            html header h1 {
                font-size: 1.5em;
                font-family: 'Montserrat', sans-serif;
            }

            #signatur img {
                margin-top: 5vw;
            }
        }



        p {
            font-size: 1rem;
        }

        img {
            width: 100%;
        }


        footer {
            grid-area: footer;
            background-color: #233740;
            padding: 20px;
        }

        #modeller {
            width: 80vw;
            margin: 2vw auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            grid-gap: 1em;
        }

        .indhold {
            background-color: #FFFFFF;
            grid-area: indhold;
            padding: 20px;
        }

        #modeller h1 {
            text-decoration: underline;
        }

        .model {
            border-style: solid;
            background-color: white;
        }

        #container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            grid-template-areas:
                "menu menu menu menu"
                "splash splash splash splash"
                "kate kate kate kate"
                "indhold indhold indhold indhold"
                "signatur signatur signatur signatur"
                "footer footer footer footer"
        }

        /*        menu*/

        #menu {
            display: flex;
            grid-area: menu;
            background-color: #E4E4E4;
            color: black;
        }

        .dropdown_menu {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #menu_bar {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .kate {
            display: flex;
            flex-wrap: wrap;
        }

        button {
            font-size: 0.9rem;
        }


        .splash_billede {
            height: 40vw;
            width: 100vw;
            background-size: cover;
            background-repeat: no-repeat;
            background-image: url(img/cykler_splash.png);
            color: white;
        }

        .filterknapper {
            font-family: 'Montserrat', sans-serif;
            color: white;
            background-color: #233740;
            border: none;
            height: 7vw;
            width: 15vw;
        }

        .filterknapper:hover {
            background-color: #F0F0F0;
            color: black;
        }

        .sorter {
            font-family: 'Montserrat', sans-serif;
            color: white;
            background-color: #233740;
            border: none;
            width: 15vw;
            margin-top: 2vw;
            padding-left: 5vw;

        }

        header h1 {
            padding-top: 20vw;
            padding-left: 10vw;
            font-size: 3.5rem;
        }

        article.model {
            border: none;
        }

        h2,
        .pris {
            background-color: #F0F0F0;
            padding: 17px;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
        }

        .model h2 {
            font-size: 1em;
        }

        .pris_container {
            display: flex;
            justify-content: flex-start;
            flex-direction: row;
            background-color: #F0F0F0;
            padding-left: 2vw;
        }

        #signatur {
            display: flex;
            grid-area: signatur;
            font-family: 'Montserrat', sans-serif;
            padding: 105px;
            background-color: #E1E6E8;
            padding-top: 25px;
        }

        #signatur h1 {
            font-size: 3em;
        }



        #signatur img {
            height: 25vw;
            width: auto;
            padding-top: 3.5vw;
        }

        .koga_com {
            border: none;
            background-color: #233740;
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.8em;
            padding: 10px;
            margin-top: 1vw;
        }

        #signatur p {
            margin-right: 5vw;
        }


        /*NYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYT OBS NYE CLASSES PÅ KNAPPER - SE HTML*/
        @media screen and (max-width:727px) {

            /*-------------sortering på cykle siden--------------*/
            /*generel styling af sortering*/
            #kategorier,
            .sorter {
                background-color: white;
                color: #233740;
            }

            /*generel styling af sortering slut*/

            /*styling af drop down knap*/
            .filterknapper {
                width: 200px;
            }

            /*drop down button slut*/

            /*skjuler dropdown content*/
            .sortering_dropdown {
                display: none;
                position: absolute;

            }

            /*skjuler dropdown content slut*/

            /*Viser dropdown content ved hover på alle modeller*/
            .kate:hover .sortering_dropdown {
                display: flex;
                flex-direction: column;
            }

            /*styling af droopdown content slut*/

            /*-------------sortering på cykle siden slut--------------*/


        }

        /*        Burgermenu starter her*/
        .hidden {
            transform: scale(0);
            display: none;
            transform: translateX(-100%);
            opacity: 0;
        }

        #burger {
            height: 45vw;
            background-color: rgba(35, 55, 64, 0.93);
            padding-bottom: 0;
            margin-bottom: 0;
            position: fixed;
            z-index: 100;
        }

        #burgermenu a {
            color: white;
            text-decoration: none;
            /*            text-align: center;*/
            font-family: futura-pt, sans-serif;
            font-weight: 700;
            font-style: normal;
            font-size: 1.2rem;

        }

        #burgermenu {
            list-style: none;
            width: 100vw;
            padding: 0;

        }

        #burgermenu p {
            margin: 0.5vw;
            padding: 2vw;
            color: white;
            padding-left: 8vw;
        }

        #menuknap {
            height: 50px;
            width: 50px;
            border: none;
            margin-left: 5vw;
            margin-top: 2vw;
            color: whitesmoke;
            padding-top: 1.2vw;
        }

        #menuknapluk {
            color: white;
            padding: 5vw;
            font-family: futura-pt-bold, sans-serif;
            font-weight: 700;
            font-style: normal;
            font-size: 1.5rem;
            padding-bottom: 1vw;

        }


        @media only screen and (max-width:727px) {
            header {
                width: 100%;
            }

            #menu {
                transform: scale(0);
                display: none;
                transform: translateX(-100%);
                opacity: 0;
            }

            #splash {
                height: 35vw;
            }

            #knapper {
                position: absolute;
            }

            .knapse p {
                padding: 0;
            }

            knapsesprite {
                top: -2vw;
            }
        }

        @media only screen and (min-width:727px) {
            #menuknap {
                transform: scale(0);
                display: none;
                transform: translateX(-100%);
                opacity: 0;
            }

            #burger {
                transform: scale(0);
                display: none;
                transform: translateX(-100%);
                opacity: 0;
            }

        }

        @media screen and (max-width:727px) {

            #kategorier,
            .sorter {
                background-color: white;
                color: #233740;
            }

            .filterknapper {
                width: 200px;
            }

            .sortering_dropdown {
                display: none;
                position: absolute;
            }

            .kate:hover .sortering_dropdown {
                display: flex;
                flex-direction: column;
            }
        }

        /*NYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYT SLUT*/
    </style>
</head>

<body id="cykler_site">
    <section id="container">
        <nav id="menu">
        </nav>

        <header class="splash_billede">
            <div id="menuknap">☰</div>
            <h1 class="cykler">Cykler</h1>
        </header>

        <div id="burger" class="hidden">
            <div id="menuknapluk">X</div>

            <ul id="burgermenu">
                <li><a href="service.html">
                        <p>Om os</p>
                    </a></li>
                <li><a href="cykler.html">
                        <p>Cykler</p>
                    </a></li>
                <li><a href="kontakt.html">
                        <p>Kontakt</p>
                    </a></li>
            </ul>
        </div>
        <div id="kategorier">
            <h1></h1>
            <p class="sorter">sorter efter:</p>
            <div class="kate">

                <!-- data-model er en data attribut som vi har givet navnet model -->
                <div>
                    <button id="alle" class="filterknapper" data-kategori="Alle">Alle modeller</button>
                </div>
                <!-- OBS NY DIV!!!!--->
                <div class="sortering_dropdown">
                    <button id="by" class="filterknapper" data-kategori="City">By-cykler</button>
                    <button id="trek" class="filterknapper" data-kategori="Trekking">Trekking</button>
                    <button class="filterknapper" data-kategori="Racer">Racer-cykler</button>
                    <button id="e" class="filterknapper" data-kategori="Ebike">El-cykler</button>
                </div>

            </div>
        </div>
        <div class="indhold">
            <main>
                <section id="modeller">


                </section>
            </main>
        </div>


        <div id="signatur">
            <div class="signatur_tekst">
                <h1>Signatur cykler</h1>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Suscipit incidunt veniam fugiat magni nostrum, tenetur vero ullam, repudiandae quibusdam doloribus assumenda delectus perspiciatis aspernatur, provident debitis saepe corrupti asperiores sunt.</p>
                <button class="koga_com">Læs mere på Koga.com</button>
            </div>
            <div class="signatur_billede">
                <img src="img/Sk%C3%A6rmbillede%202019-11-03%20kl.%2023.36.07.png" alt="signaturcykel">
            </div>

        </div>

        <footer>
        </footer>

    </section>

    <template>
        <article class="model">

            <p class="kategori"></p>
            <figure>
                <img class="cykel" src="" alt="">
            </figure>
            <h2></h2>
            <div class="pris_container">
                <p>pris:</p>
                <p class="pris"></p>
            </div>
        </article>
    </template>

    <script src="script.js"></script>
    <script>
        let indhold;
        let filter = "Alle";
        document.addEventListener("DOMContentLoaded", start);

        function start() {
            hentJson();
            const filterKnapper = document.querySelectorAll(".filterknapper");
            filterKnapper.forEach(knap => knap.addEventListener("click", filtrerCykler));
            document.querySelector("#menuknap").addEventListener("click", toggleMenu);
            document.querySelector("#menuknapluk").addEventListener("click", toggleMenu);

        }

        function toggleMenu() {
            console.log("toggleMenu");

            //            Burgermenuen er skjult på forsiden
            document.querySelector("#burger").classList.toggle("hidden");

            //            Hvis containerforside er synlig skal den skjules. Hvis den er skjult skal den vises
            if (document.querySelector("#containerforside")) {
                document.querySelector("#containerforside").classList.toggle("hidden");
            }

            //            Hvis menuknappen er synlig skal den skjules. Hvis den er skjult skal den vises
            if (document.querySelector("#menuknap")) {
                document.querySelector("#menuknap").classList.toggle("hidden");
            }

            //            Hvis splashen er synlig skal den skjules. Hvis den er skjult skal den vises
            if (document.querySelector(".splash")) {
                document.querySelector(".splash").classList.toggle("hidden");
            }

        }



        //Sæt filter via kategori
        function filtrerCykler() {
            filter = this.dataset.kategori;
            console.log(filter);
            visIndhold();
        }
        //hent JSON fil i asynkron function
        async function hentJson() {
            const url = "http://annesofienielsen.dk/kea/09-cms/koga/wordpress/wp-json/wp/v2/cykler/?per_page=100";

            //henter data filen
            const myJson = await fetch(url);
            //den hentee ata skal tolkes som json
            indhold = await myJson.json();
            //kald funktion der viser data som json
            visIndhold();
        }
        //da kategorier kommer ud som et array, er vi nødt til at putte vores loop ind i en if-sætning
        function visIndhold() {
            const liste = document.querySelector("#modeller");
            liste.textContent = "";

            indhold.forEach((enkelt) => {
                enkelt.kategori.forEach(k => {
                    if (k == filter || filter == "Alle") {
                        console.log("jhgkjhk", k, filter);
                        const klon = document.querySelector("template").cloneNode(true).content;
                        klon.querySelector("h2").textContent = enkelt.model;
                        klon.querySelector(".pris").innerHTML = enkelt.pris;
                        //                        klon.querySelector(".kategori").innerHTML = enkelt.kategori;
                        klon.querySelector(".cykel").src = enkelt.foto_cykel.guid;
                        liste.appendChild(klon);
                    }
                });

            });


            //            document.querySelector(".overskrift").innerHTML = indhold.title.rendered;
            //            document.querySelector(".indhold").innerHTML = indhold.content.rendered;
        }
    </script>




</body></html>



